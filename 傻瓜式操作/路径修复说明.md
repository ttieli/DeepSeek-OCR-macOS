# 路径修复说明

## 修复的问题

之前版本的脚本中，Python 脚本被写入到 `/tmp/deepseek_ocr_runner.py`，导致：
- `Path(__file__).parent` 指向 `/tmp/` 而不是实际工作目录
- 无法找到 `test_images/` 目录
- 报错"未找到测试图片"

## 修复方案

### ocr.sh
修改了 Python 脚本的路径获取方式：

**之前:**
```python
SCRIPT_DIR = Path(__file__).parent
```

**现在:**
```python
SCRIPT_DIR = Path(sys.argv[1]) if len(sys.argv) > 1 else Path.cwd()
```

**调用方式:**
```bash
python /tmp/deepseek_ocr_runner.py "$SCRIPT_DIR"
```

### 其他脚本验证

✅ **install.sh** - 使用 `SCRIPT_DIR="$(cd "$(dirname "$0")" && pwd)"`
✅ **fix_cuda.py** - 使用 `Path.home()` 查找用户目录
✅ **convert_mmd.py** - 接受命令行参数，默认使用当前目录

## 测试验证

```bash
cd "/path/to/傻瓜式操作"
ls test_images/  # 确认有图片
bash ocr.sh      # 应该能找到图片
```

## 现在的优势

✅ 脚本可以在任何位置运行
✅ 正确识别工作目录
✅ 不依赖 `/tmp/` 路径
✅ 支持带空格的路径
✅ 完全通用，任何用户都能使用
