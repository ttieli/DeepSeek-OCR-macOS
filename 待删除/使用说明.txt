==========================================
DeepSeek-OCR macOS 版 - 使用说明
==========================================

🚀 快速开始（两步）
==========================================

第一步：安装（仅首次运行）
--------------------------
bash install.sh

说明：
  - 自动安装 Conda 环境
  - 下载 DeepSeek-OCR 模型（约 10GB）
  - 配置 macOS 优化（CPU 模式）
  - 约需 10-20 分钟


第二步：使用
--------------------------
1. 将图片放入 test_images/ 目录
2. bash ocr.sh
3. 选择识别模式（1-5）
4. 查看 ocr_output/ 目录结果


📝 识别模式说明
==========================================

1. 文档转 Markdown（推荐）⭐
   - 保留格式和结构
   - 适用于：文档、PPT、报告

2. 普通 OCR
   - 提取所有文字
   - 适用于：一般文字识别

3. 无布局 OCR
   - 纯文本提取
   - 适用于：快速文字提取

4. 图表解析
   - 解析图表内容
   - 适用于：图表、流程图

5. 详细描述
   - 图片详细描述
   - 适用于：理解图片内容


📊 性能参考
==========================================

设备：CPU 模式（macOS 优化）
内存：约 3-4GB
速度：每张图片 3-5 分钟
输出：Markdown 格式


📁 文件说明
==========================================

核心文件（必需）：
  ├── install.sh      # 安装脚本 ⭐
  ├── ocr.sh          # 使用脚本 ⭐
  ├── fix_cuda.py     # 兼容性修复（自动调用）
  └── convert_mmd.py  # 格式转换（自动调用）

工作目录：
  ├── test_images/    # 输入：放入要识别的图片
  └── ocr_output/     # 输出：识别结果


⚡ 使用示例
==========================================

示例 1：识别单张图片
---------------------
cp document.png test_images/
bash ocr.sh
# 选择: 1

示例 2：批量识别
---------------------
cp *.png test_images/
bash ocr.sh
# 选择: 1
# 自动处理所有图片

示例 3：识别图表
---------------------
cp chart.png test_images/
bash ocr.sh
# 选择: 4


🔧 常见问题
==========================================

Q: 如何重新安装？
A: 删除 ~/miniforge3/envs/deepseek-ocr 目录
   然后重新运行 bash install.sh

Q: 识别速度太慢？
A: CPU 模式下 3-5 分钟/张是正常的
   这是 macOS 上最稳定的方案

Q: 如何查看结果？
A: open ocr_output/
   每张图片对应一个目录，包含：
   - result.mmd           # 原始输出
   - result_标准格式.md    # 转换后的标准 Markdown
   - result_with_boxes.jpg # 带标注的图片

Q: 支持哪些图片格式？
A: PNG, JPG, JPEG, BMP, WEBP


💡 提示
==========================================

1. 首次运行需要下载模型（约 10GB）
2. 使用清晰的高分辨率图片效果更好
3. 批量处理时，所有图片使用相同模式
4. 结果自动转换为标准 Markdown 格式


📞 获取帮助
==========================================

- 详细文档：查看项目中的 .md 文件
- 问题反馈：检查终端输出的错误信息


==========================================
享受 DeepSeek-OCR 的便利！🎉
==========================================
