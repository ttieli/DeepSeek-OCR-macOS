#!/bin/bash

echo "======================================================"
echo "DeepSeek-OCR 依赖安装脚本"
echo "======================================================"
echo ""

# 检查 Python 版本
echo "检查 Python 版本..."
python3 --version
echo ""

# 安装 PyTorch（针对 macOS）
echo "======================================================"
echo "步骤 1/2: 安装 PyTorch（这可能需要几分钟）..."
echo "======================================================"
pip3 install torch torchvision torchaudio

# 安装其他依赖
echo ""
echo "======================================================"
echo "步骤 2/2: 安装其他依赖..."
echo "======================================================"
cd "$(dirname "$0")/DeepSeek-OCR"
pip3 install -r requirements.txt

echo ""
echo "======================================================"
echo "安装完成！"
echo "======================================================"
echo ""
echo "接下来："
echo "1. 将测试图片放入 test_images/ 目录"
echo "2. 运行测试: ./run_ocr_test.sh"
echo ""
