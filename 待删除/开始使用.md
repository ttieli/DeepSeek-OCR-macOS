# 🎯 DeepSeek-OCR macOS 版 - 开始使用

## ⚡ 两步开始

### 第一步：安装（仅首次）

```bash
bash install.sh
```

**约需 10-20 分钟**，会自动完成：
- ✅ 安装 Conda 环境
- ✅ 下载 DeepSeek-OCR 模型（约 10GB）
- ✅ 配置 macOS 优化

### 第二步：使用

```bash
# 1. 放入图片
cp your_image.png test_images/

# 2. 运行
bash ocr.sh

# 3. 选择模式
请输入选项（1-5）[默认: 1]: 1

# 4. 查看结果
open ocr_output/
```

---

## 📝 识别模式

运行 `bash ocr.sh` 后会看到：

```
请选择 OCR 识别模式：

  1. 文档转 Markdown（推荐）⭐
     保留格式和结构，适用于文档、PPT、报告

  2. 普通 OCR
     提取所有文字，适用于一般文字识别

  3. 无布局 OCR
     纯文本提取，适用于快速文字提取

  4. 图表解析
     解析图表内容，适用于图表、流程图

  5. 详细描述
     图片详细描述，适用于理解图片内容

请输入选项（1-5）[默认: 1]:
```

---

## 📁 核心文件

### 必需文件（4个）

```
DeepSeek_OCR_for_MacOS/
├── install.sh      ⭐ 安装脚本
├── ocr.sh          ⭐ 使用脚本
├── fix_cuda.py     自动修复 CUDA 兼容性
└── convert_mmd.py  自动转换格式
```

### 工作目录

```
├── test_images/    📁 输入目录（放图片）
└── ocr_output/     📁 输出目录（查看结果）
```

---

## 📊 输出文件

每张图片会生成一个目录：

```
ocr_output/
  └── your_image/
      ├── result.mmd              # DeepSeek-OCR 原始输出
      ├── result_标准格式.md       # 标准 Markdown ⭐
      ├── result_with_boxes.jpg   # 带标注框的图片
      ├── your_image_result.md    # 完整结果
      └── images/                 # 提取的图片片段
          ├── 0.jpg
          └── 1.jpg
```

**主要文件**：`result_标准格式.md`

---

## 💡 使用技巧

### 批量处理

```bash
# 将多张图片放入 test_images/
cp *.png test_images/

# 运行一次，自动处理所有图片
bash ocr.sh
# 选择模式后，自动处理
```

### 不同场景选择不同模式

| 图片类型 | 选择模式 |
|---------|---------|
| 📄 文档、PPT | 1 ⭐ |
| 📊 图表、流程图 | 4 |
| 📷 普通截图 | 2 |
| 📝 手写笔记 | 3 |
| 🖼️ 复杂图片 | 5 |

---

## 🔧 常见问题

### Q: 首次安装需要多久？
**A**: 约 10-20 分钟（下载模型约 10GB）

### Q: 识别一张图片需要多久？
**A**: 约 3-5 分钟（CPU 模式）

### Q: 如何查看结果？
**A**:
```bash
# 打开输出目录
open ocr_output/

# 或查看具体文件
cat ocr_output/your_image/result_标准格式.md
```

### Q: 支持哪些图片格式？
**A**: PNG, JPG, JPEG, BMP, WEBP

### Q: 可以修改识别参数吗？
**A**: 可以编辑 `ocr.sh` 中的参数：
- `base_size` - 分辨率（512/1024/1280）
- `image_size` - 图像尺寸（384/640/800）

---

## ⚠️ 注意事项

1. **CPU 模式**：macOS 上使用 CPU 最稳定（3-4GB 内存）
2. **首次运行慢**：需要下载模型，请耐心等待
3. **图片质量**：使用清晰的高分辨率图片效果更好
4. **网络要求**：首次运行需要访问 Hugging Face

---

## 🎉 开始使用

```bash
# 完整流程
bash install.sh          # 首次安装
cp image.png test_images/  # 放入图片
bash ocr.sh              # 运行识别
open ocr_output/         # 查看结果
```

---

**就这么简单！** 🚀

更多详情查看 `使用说明.txt`
